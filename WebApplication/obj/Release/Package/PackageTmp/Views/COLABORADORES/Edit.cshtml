@model WebApplication.Models.COLABORADORES
@using WebApplication.Models


@ViewBag.Title ="Editar"

@Styles.Render("~/AdminLTE/plugins/daterangepicker/css")
@Styles.Render("~/AdminLTE/plugins/icheck/css")
@Styles.Render("~/AdminLTE/plugins/colorpicker/css")
@Styles.Render("~/AdminLTE/plugins/timepicker/css")
@Styles.Render("~/AdminLTE/plugins/select2/css")
@Styles.Render("~/AdminLTE/dist/css")
@Styles.Render("~/AdminLTE/dist/css/skins")
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true)
        <!--Função de carregar o CEP-->
    @Html.HiddenFor(model => model.ID_COLABORADOR)
    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="panel panel-primary">
            <div class="panel-heading" style="height: 40px">
                <div class="col-md-3" style="padding: 2px;border:medium">Informações do colaborador</div>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <div class="col-md-4" style="padding: 0px 10px 0px 10px">Nome Fantasia</div>
                    <div class="col-md-4" style="padding: 0px 10px 0px 10px;">Razão social</div>
                    <div class="col-md-4" style="padding: 0px 10px 0px 10px;">CNPJ</div>
                    <div class="col-md-4" style="padding: 0px 10px 0px 10px">
                        @Html.EditorFor(model => model.NOME_FANTASIA, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.NOME_FANTASIA, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4" style="padding: 0px 10px 0px 0px">
                        @Html.EditorFor(model => model.RAZAO_SOCIAL, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.RAZAO_SOCIAL, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-4" style="padding: 0px 10px 0px 0px">
                        @Html.EditorFor(model => model.CPF_CNPJ, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.CPF_CNPJ, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
        </div>
    </div>
        <div class="panel panel-primary">
            <div class="panel-heading" style="height: 40px">
                <div class="col-md-3" style="padding: 2px;">Endereço</div>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <div class="col-md-3" style="padding: 0px 10px 0px 10px;">CEP</div>
                    <div class="col-md-1" style="padding: 0px 10px 0px 0px;">UF</div>
                    <div class="col-md-3" style="padding: 0px 10px 0px 0px;">Estado</div>
                    <div class="col-md-3" style="padding: 0px 10px 0px 10px;">cidade</div>
                    <div class="col-md-2" style="padding: 0px 10px 0px 0px;">Bairro</div>
                    <div class="col-md-3" style="padding: 0px 10px 0px 10px;">
                        @Html.EditorFor(model => model.CEP, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.CEP, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-1" style="padding: 0px 10px 0px 0px;">
                        @Html.EditorFor(model => model.UF, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.UF, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-3" style="padding: 0px 10px 0px 0px;">
                        @Html.EditorFor(model => model.ESTADO, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.ESTADO, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-3" style="padding: 0px 10px 0px 0px;">
                        @Html.EditorFor(model => model.CIDADE, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.CIDADE, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-2" style="padding: 0px 10px 0px 0px;">
                        @Html.EditorFor(model => model.BAIRRO, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.BAIRRO, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-2" style="padding: 0px 10px 0px 10px;">Tipo de Logadouro</div>
                    <div class="col-md-5" style="padding: 0px 10px 0px 10px;">Logadouro</div>
                    <div class="col-md-2" style="padding: 0px 10px 0px 0px;">Número</div>
                    <div class="col-md-3" style="padding: 0px 10px 0px 0px;">Complemento</div>
                    <div class="col-md-2" style="padding: 0px 10px 0px 10px;">
                        @Html.EditorFor(model => model.TIPO_LOGRADOURO, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.TIPO_LOGRADOURO, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-5" style="padding: 0px 10px 0px 10px;">
                        @Html.EditorFor(model => model.LOGRADOURO, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.LOGRADOURO, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-2" style="padding: 0px 10px 0px 0px; ">
                        @Html.EditorFor(model => model.Numero, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Numero, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-3" style="padding: 0px 10px 0px 0px;">
                        @Html.EditorFor(model => model.COMPLEMENTO, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.COMPLEMENTO, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading" style="height: 40px">
                <!--Labels do Contato-->
                <div class="col-md-3" style="padding: 2px;">Contato</div>
            </div>
            <div class="panel-body">
                <div class="col-md-3" style="padding: 0px 10px 0px 10px;">DDD</div>
                <div class="col-md-3" style="padding: 0px 10px 0px 0px;">Telefone 1</div>
                <div class="col-md-3" style="padding: 0px 10px 0px 0px;">Telefone 2</div>
                <div class="col-md-3" style="padding: 0px 10px 0px 0px;">Email</div>
                <div class="col-md-3" style="padding: 0px 10px 0px 10px;">
                    @Html.EditorFor(model => model.DDD, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.DDD, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-3" style="padding: 0px 10px 0px 0px;">
                    @Html.EditorFor(model => model.TEL1, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TEL1, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-3" style="padding: 0px 10px 0px 0px;">
                    @Html.EditorFor(model => model.TEL2, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TEL2, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-3" style="padding: 0px 10px 0px 0px;">
                    @Html.EditorFor(model => model.EMAIL, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.EMAIL, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading" style="height: 40px">
                <!--Labels do Contato-->
                <div class="col-md-3" style="padding: 2px;">Outras Informações</div>
            </div>
            <div class="panel-body">
                <div class="col-md-4" style="padding: 0px 10px 0px 10px;">Especialidade</div>
                <div class="col-md-4" style="padding: 0px 10px 0px 0px;">Cliente</div>
                <div class="col-md-4" style="padding: 0px 10px 0px 0px;">Tipo de colaborador</div>
                <!--Contato1-->
                <div class="col-md-4" style="padding: 0px 10px 0px 10px;">
                    @Html.EditorFor(model => model.ESPECIALIDADE, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.ESPECIALIDADE, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-4" style="padding: 0px 10px 0px 0px;">
                    @Html.EditorFor(model => model.CLIENTE, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.CLIENTE, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-4" style="padding: 0px 10px 0px 0px;">
                    @Html.EditorFor(model => model.TIPO, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TIPO, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
        <div class="form-group" style="Padding:0px 10px 0px 250px">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Adicionar" class="btn btn-success" />

                <input type="button" value="Voltar" class="btn btn-danger" onclick="location.href='@Url.Action("Index", "COLABORADORES")'" />
            </div>
        </div>
}
<div>
    @Html.ActionLink("Back to List", "Index")
</div>
@section Scripts {
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    @Scripts.Render("~/bundles/jqueryval"))
    @Scripts.Render("~/AdminLTE/plugins/timepicker/js")
    @Scripts.Render("~/AdminLTE/plugins/icheck/js")
    @Scripts.Render("~/Scripts/Forms/Advanced")
    @Scripts.Render("~/AdminLTE/plugins/select2/js")
    @Scripts.Render("~/AdminLTE/plugins/input-mask/js")
    @Scripts.Render("~/AdminLTE/plugins/momentjs/js")
    @Scripts.Render("~/AdminLTE/plugins/daterangepicker/js")
    @Scripts.Render("~/AdminLTE/plugins/colorpicker/js")


    <script type="text/javascript">
            $(document).ready(function () {
                function limpa_formulario_cep() {
                    // Limpa valores do formulário de cep.
                    $("#LOGRADOURO").val("");
                    $("#BAIRRO").val("");
                    $("#CIDADE").val("");
                    $("#UF").val("");
                    $("#COMPLEMENTO").val("");
                }

                //Quando o campo cep perde o foco.
                $("#CEP").blur(function () {

                    //Nova variável "cep" somente com dígitos.
                    var cep = $(this).val().replace(/\D/g, '');

                    //Verifica se campo cep possui valor informado.
                    if (cep != "") {

                        //Expressão regular para validar o CEP.
                        var validacep = /^[0-9]{8}$/;

                        //Valida o formato do CEP.
                        if (validacep.test(cep)) {

                            //Preenche os campos com "..." enquanto consulta webservice.
                            $("#LOGRADOURO").val("...");
                            $("#BAIRRO").val("...");
                            $("#CIDADE").val("...");
                            $("#UF").val("...");
                            $("#COMPLEMENTO").val("...");
                            //Consulta o webservice viacep.com.br/
                            $.getJSON("//viacep.com.br/ws/" + cep + "/json/?callback=?", function (dados) {

                                if (!("erro" in dados)) {
                                    //Atualiza os campos com os valores da consulta.
                                    $("#LOGRADOURO").val(dados.logradouro);
                                    $("#BAIRRO").val(dados.bairro);
                                    $("#CIDADE").val(dados.localidade);
                                    $("#UF").val(dados.uf);
                                    $("#COMPLEMENTO").val(dados.complemento);
                                } //end if.
                                else {
                                    //CEP pesquisado não foi encontrado.
                                    limpa_formulario_cep();
                                    alert("CEP não encontrado.");
                                }
                            });
                        } //end if.
                        else {
                            //cep é inválido.
                            limpa_formulario_cep();
                            alert("Formato de CEP inválido.");
                        }
                    } //end if.
                    else {
                        //cep sem valor, limpa formulário.
                        limpa_formulario_cep();
                    }
                });
            });
    </script>
}
